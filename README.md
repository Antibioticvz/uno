# UNO Lite Telegram Bot

## ๐ ะัััััะต ัััะปะบะธ

- **ะะธะฒะพะน ะฑะพั:** [@myuno2222_bot](https://t.me/myuno2222_bot)
- **Render Blueprint:** ะดะตะฟะปะพะน ะพะฑะพะธั ัะตัะฒะธัะพะฒ ะฟะพ ะบะฝะพะฟะบะต ัะตัะตะท `render.yaml`

UNO Lite โ ะผะธะฝะธะผะฐะปะธััะธัะฝะฐั ะดะฒััะฟะพะปัะทะพะฒะฐัะตะปััะบะฐั ะฒะตััะธั UNO, ัะพะฑัะฐะฝะฝะฐั ะบะฐะบ ะผะพะฝะพัะตะฟะพะทะธัะพัะธะน ะฝะฐ Node.js + TypeScript. ะะตัะตะฝะธะต ัะพัะตัะฐะตั ัะธัััั ะดะพะผะตะฝะฝัั ะปะพะณะธะบั, Telegram-ะธะฝัะตััะตะนั ะฝะฐ grammY ะธ ััะฐัะธัะตัะบัั ะฒะตะฑ-ะฟะฐะฝะตะปั ะฝะฐ React, ัะพััะฐะฝัั ัััะพะณัั ัะธะฟะธะทะฐัะธั, ะฟัะธะฝัะธะฟั KISS/DRY/SOLID ะธ ะฟะพะบัััะธะต ัะตััะฐะผะธ ะบะปััะตะฒัั ััะตะฝะฐัะธะตะฒ.

## ๐๏ธ ะะฑะทะพั

- ะะพะดะดะตัะถะธะฒะฐะตั ัะธะฝััะพะฝะฝัะต ะฟะฐััะธะธ ะฝะฐ ะดะฒัั ะธะณัะพะบะพะฒ ั ะฟัะธะฒะฐัะฝัะผะธ ััะบะฐะผะธ ะธ ะฟัะฑะปะธัะฝัะผ ััะพะปะพะผ.
- ะะทะฐะธะผะพะดะตะนััะฒะธะต ัะตัะตะท inline-ะบะฝะพะฟะบะธ, ะบะพะผะฐะฝะดั ะธ ัะฒะตะดะพะผะปะตะฝะธั Telegram.
- Web-ะฟะฐะฝะตะปั ะดะตะผะพะฝัััะธััะตั ะฟัะฐะฒะธะปะฐ, ะฐััะธัะตะบัััั ะธ ะฟัะธะผะตั ัะพััะพัะฝะธั ะฟะฐััะธะธ.
- ะะพะปะฝะพัััั ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝัะน ะดะตะฟะปะพะน ะฝะฐ Render (ะฑะพั + ััะฐัะธัะตัะบะธะน ัะฐะนั) ัะตัะตะท Blueprint.

## ๐งฑ ะััะธัะตะบัััะฐ

### ะกะธััะตะผะฝะพะต ะฒะทะฐะธะผะพะดะตะนััะฒะธะต

```
โโโโโโโโโโโโโโโโโโ      HTTPS       โโโโโโโโโโโโโโโโโโโโโโโ
โ  Telegram App  โ โโโโโโโโโโโโโโโโถ โ Telegram Bot API    โ
โโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโฌโโโโโโโโโโโโ
                                              โ
                                              โผ
                                  โโโโโโโโโโโโโโโโโโโโโโโ
                                  โ apps/bot (grammY)   โ
                                  โ โข long polling      โ
                                  โ โข RoomManager       โ
                                  โโโโโโโโโโโฌโโโโโโโโโโโโ
                                            โ (import)
                                            โผ
                                  โโโโโโโโโโโโโโโโโโโโโโโ
                                  โ @uno/core           โ
                                  โ โข ะณะตะฝะตัะฐัะธั ะบะพะปะพะดั  โ
                                  โ โข ะฟัะฐะฒะธะปะฐ UNO Lite  โ
                                  โ โข Vitest            โ
                                  โโโโโโโโโโโฌโโโโโโโโโโโโ
                                            โ
                                            โผ
                                  โโโโโโโโโโโโโโโโโโโโโโโ
                                  โ apps/web (React)    โ
                                  โ โข ะดะพะบัะผะตะฝัะฐัะธั      โ
                                  โ โข ะดะตะผะพ-ัะพััะพัะฝะธะต    โ
                                  โโโโโโโโโโโโโโโโโโโโโโโ
```

- **packages/core** โ ะฝะตะทะฐะฒะธัะธะผะพะต ะดะพะผะตะฝะฝะพะต ัะดัะพ: ัะฟัะฐะฒะปะตะฝะธะต ะบะพะปะพะดะพะน, ะฟัะพะฒะตัะบะฐ ัะพะดะพะฒ, ะฟัะฑะปะธัะฝัะต/ะฟัะธะฒะฐัะฝัะต ะฟัะพะตะบัะธะธ ัะพััะพัะฝะธั, reshuffle. ะะต ะทะฐะฒะธัะธั ะพั Telegram ะธ UI.
- **apps/bot** โ ะธะฝัะตะณัะฐัะธั ั Telegram ะฝะฐ grammY: ะบะพะผะฐะฝะดั `/create`, `/join`, `/hand`, `/state`, inline-ะบะฝะพะฟะบะธ ะดะปั ัะพะดะพะฒ, ะผะตะฝะตะดะถะตั ะบะพะผะฝะฐั ะฒ ะฟะฐะผััะธ. ะัะฟะพะปัะทัะตั ะฑะธะทะฝะตั-ะปะพะณะธะบั ะธะท `@uno/core`.
- **apps/web** โ Vite SPA ั Tailwind + shadcn/ui: ะดะพะบัะผะตะฝัะฐัะธั, ะดะตะผะพะฝัััะฐัะธั ะฟัะฐะฒะธะป ะธ ะฒะธะทัะฐะปะธะทะฐัะธั ะฟัะธะผะตัะฝะพะน ะฟะฐััะธะธ (ัะฐะบะถะต ัััะพะธััั ะฝะฐ `@uno/core`).
- **render.yaml** โ ะพะฟะธััะฒะฐะตั ะดะฒะฐ ัะตัะฒะธัะฐ Render (Node Web Service + Static Site) ะธ ะตะดะธะฝัะน ะฟะฐะนะฟะปะฐะนะฝ ัะฑะพัะบะธ.

### ะขะตัะฝะธัะตัะบะธะต ะฐะบัะตะฝัั

- **ะฏะทัะบ:** TypeScript 5.9, ะผะพะดัะปัะฝะฐั ัะธััะตะผะฐ NodeNext.
- **ะขะตััะธัะพะฒะฐะฝะธะต:** Vitest (11 ััะตะฝะฐัะธะตะฒ ัะดัะฐ), ESLint (flat config) ะดะปั ะฒัะตั ะฟะฐะบะตัะพะฒ.
- **ะกัะธะปะธ:** Tailwind CSS, shadcn/ui, Radix UI ะธะบะพะฝะบะธ.
- **ะกะฑะพัะบะฐ:** npm workspaces + file-based ะทะฐะฒะธัะธะผะพััะธ, ัััะพะณะธะน `tsconfig` ั `noUncheckedIndexedAccess` ะธ ะฑะตะท `any`.
- **ะะตะฟะปะพะน:** Render Blueprint, Node.js 22.x, ะดะปะธะฝะฝัะน ะพะฟัะพั Telegram (ะฑะตะท webhook).

## ๐ ะกัััะบัััะฐ ัะตะฟะพะทะธัะพัะธั

```
uno/
โโ apps/
โ  โโ bot/        # Telegram-ะฑะพั ะฝะฐ grammY, RoomManager, long polling
โ  โโ web/        # React + Vite SPA ะดะปั ะดะพะบัะผะตะฝัะฐัะธะธ ะธ ะดะตะผะพ
โโ packages/
โ  โโ core/       # ะงะธััะฐั ะปะพะณะธะบะฐ UNO Lite + Vitest
โโ render.yaml    # Blueprint ะดะปั Render (ะฑะพั ะธ web)
โโ tsconfig*.json # ะะฑัะธะต ะธ ะฟะฐะบะตัะฝัะต ะบะพะฝัะธะณััะฐัะธะธ TypeScript
โโ README.md      # ะะฐะฝะฝัะน ะดะพะบัะผะตะฝั
```

## โ๏ธ ะะพะดะณะพัะพะฒะบะฐ ะพะบััะถะตะฝะธั

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Node.js โฅ 20 (ะฝะฐ ะฟัะพะดะต ะธัะฟะพะปัะทัะตััั 22.16.0)
- npm โฅ 10
- ะขะตะปะตะณัะฐะผ-ะฑะพั, ัะพะทะดะฐะฝะฝัะน ัะตัะตะท [@BotFather](https://t.me/BotFather)

### ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
npm install
```

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

ะกะพะทะดะฐะนัะต `.env` ะฒ ะบะพัะฝะต ะธ ัะบะฐะถะธัะต ัะพะบะตะฝ ะฑะพัะฐ. ะะฟัะธะพะฝะฐะปัะฝะพ ะผะพะถะฝะพ ะทะฐะดะฐัั URL ะฒะตะฑ-ะฟะฐะฝะตะปะธ.

```
BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
WEB_APP_URL=https://example.com   # ะฝะตะพะฑัะทะฐัะตะปัะฝะพ
```

## ๐งช ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ ะธ ัะบัะธะฟัั

| ะะพะผะฐะฝะดะฐ                      | ะะฐะทะฝะฐัะตะฝะธะต                                                |
| ---------------------------- | --------------------------------------------------------- |
| `npm run dev -w @uno/bot`    | ะะฐะฟััะบ ะฑะพัะฐ ะฒ watch-ัะตะถะธะผะต (long polling ั hot reload).   |
| `npm run start -w @uno/bot`  | ะัะฟะพะปะฝะตะฝะธะต ัะบะพะผะฟะธะปะธัะพะฒะฐะฝะฝะพะณะพ ะฑะพัะฐ (`node dist/index.js`). |
| `npm run dev -w @uno/web`    | Vite dev server (ะฟะพัั 5173) ะดะปั ะฒะตะฑ-ะฟะฐะฝะตะปะธ.               |
| `npm run build`              | ะะพะปะฝะฐั ัะฑะพัะบะฐ ะฒัะตั ะฟะฐะบะตัะพะฒ (core โ bot โ web).            |
| `npm run build -w @uno/core` | ะกะฑะพัะบะฐ ะดะพะผะตะฝะฝะพะณะพ ัะดัะฐ ะธ ะณะตะฝะตัะฐัะธั d.ts.                   |
| `npm run test -w @uno/core`  | ะฎะฝะธั-ัะตััั ะธะณัะพะฒะพะณะพ ัะดัะฐ (Vitest).                        |
| `npm run lint`               | ESLint ะดะปั ะฒัะตั ะฟะฐะบะตัะพะฒ ะผะพะฝะพัะตะฟะพะทะธัะพัะธั.                  |
| `npm run format`             | ะัะพะฒะตัะบะฐ ัะพัะผะฐัะธัะพะฒะฐะฝะธั (Prettier) ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ.     |

## ๐น๏ธ ะะณัะพะฒัะต ะฟัะฐะฒะธะปะฐ ะฒ UNO Lite

1. **ะะพะปะพะดะฐ:** 76 ะบะฐัั โ ะฟะพ ะพะดะฝะพะน ยซ0ยป ะธ ะฟะพ ะดะฒะต ะบะฐััั 1โ9 ะบะฐะถะดะพะณะพ ะฑะฐะทะพะฒะพะณะพ ัะฒะตัะฐ (๐ด, ๐ข, ๐ต, ๐ก).
2. **ะะฐะทะดะฐัะฐ:** ะฟะพ 7 ะบะฐัั ะบะฐะถะดะพะผั ะธะณัะพะบั, ะฒะตััะฝัั ะบะฐััะฐ ะบะพะปะพะดั ััะพะดะธั ะฒ ัะฑัะพั ะธ ะทะฐะดะฐัั ััะฐััะพะฒัะน ัะฒะตั/ะฝะพะผะธะฝะฐะป.
3. **ะฅะพะด:**
   - ะผะพะถะฝะพ ััะณัะฐัั ะบะฐััั ะฟะพ ัะพะฒะฟะฐะดะตะฝะธั ัะฒะตัะฐ ะธะปะธ ะฝะพะผะธะฝะฐะปะฐ;
   - ะตัะปะธ ัะพะดะพะฒ ะฝะตั โ ะดะพะฑะพั 1 ะบะฐััั; ะฟะพะดัะพะดัััั ะผะพะถะฝะพ ััั ะถะต ััะณัะฐัั, ะธะฝะฐัะต ัะพะด ะฟะตัะตัะพะดะธั ัะพะฟะตัะฝะธะบั.
4. **ะะพะฑะตะดะฐ:** ะฟะพะฑะตะดะธัะตะปั โ ะฟะตัะฒัะน, ะบัะพ ัะฑัะพัะธะป ะฒัะต ะบะฐััั.
5. **Reshuffle:** ะฟัะธ ะฟัััะพะน ะบะพะปะพะดะต ัะฑัะพั (ะบัะพะผะต ะฒะตััะฝะตะน ะบะฐััั) ัะฐััะตััั ะธ ะธัะฟะพะปัะทัะตััั ะทะฐะฝะพะฒะพ.

ะัะต ะฟัะพะฒะตัะบะธ ะฒัะฟะพะปะฝัะตั `@uno/core`: ะฒะฐะปะธะดะฝะพััั ะธะณัะพะบะฐ, ะฟัะธะฝะฐะดะปะตะถะฝะพััั ะบะฐััั ััะบะต, ะบะพััะตะบัะฝะพััั ะพัะตัะตะดะฝะพััะธ, ะฝะตะพะฑัะพะดะธะผะพััั ะดะพะฑะพัะฐ ะธ ะพะฟัะตะดะตะปะตะฝะธะต ะฟะพะฑะตะดะธัะตะปั.

## ๐ค ะะพะผะฐะฝะดั Telegram ะธ UI

| ะะพะผะฐะฝะดะฐ       | ะะฟะธัะฐะฝะธะต                                                         |
| ------------- | ---------------------------------------------------------------- |
| `/start`      | ะฟัะธะฒะตัััะฒะธะต ะธ ะบัะฐัะบะฐั ัะฟัะฐะฒะบะฐ.                                   |
| `/help`       | ะฟะตัะตัะตะฝั ะฒัะตั ะบะพะผะฐะฝะด.                                            |
| `/create`     | ัะพะทะดะฐัั ะบะพะผะฝะฐัั, ะฟะพะปััะธัั ะบะพะด ะฟัะธะณะปะฐัะตะฝะธั.                       |
| `/join <ะบะพะด>` | ะฟะพะดะบะปััะธัััั ะบะพ ะฒัะพัะพะน ะฟะพะทะธัะธะธ.                                  |
| `/hand`       | ะฟะพะบะฐะทะฐัั ัะตะบัััั ััะบั (ะฟัะธะฒะฐัะฝะพ).                                |
| `/state`      | ะฟัะฑะปะธัะฝะพะต ัะพััะพัะฝะธะต ััะพะปะฐ (ะฒะตััะฝัั ะบะฐััะฐ, ัะตะน ัะพะด, ัะฐะทะผะตัั ััะบ). |
| `/leave`      | ะฟะพะบะธะฝััั ะบะพะผะฝะฐัั, ะทะฐะฒะตััะธัั ะฟะฐััะธั.                              |

Inline-ะบะฝะพะฟะบะธ ะฐะฒัะพะผะฐัะธะทะธัััั ะฒัะฑะพั ะบะฐััั, ะดะพะฑะพั ะธ ะฟะตัะตะดะฐัั ัะพะดะฐ ะฑะตะท ะฒะฒะพะดะฐ ะบะพะผะฐะฝะด.

## ๐ ะะตะฑ-ะฟะฐะฝะตะปั (apps/web)

- ะะพัััะฟะฝะฐ ะปะพะบะฐะปัะฝะพ ะฟะพ ะฐะดัะตัั `http://localhost:5173` ะฟะพัะปะต `npm run dev -w @uno/web`.
- ะกะพะดะตัะถะธั ะพะฟะธัะฐะฝะธะต ะฐััะธัะตะบัััั, ัะฟะฐัะณะฐะปะบั ะฟะพ ะบะพะผะฐะฝะดะฐะผ ะธ ะธะฝัะตัะฐะบัะธะฒะฝะพะต ะดะตะผะพ-ัะพััะพัะฝะธะต, ะฟะพัััะพะตะฝะฝะพะต ะฝะฐ `@uno/core`.
- ะัะฟะพะปัะทัะตั Tailwind CSS + shadcn/ui ะดะปั ะบะพะฝัะธััะตะฝัะฝะพะณะพ ะดะธะทะฐะนะฝะฐ.

## ๐ข ะะตะฟะปะพะน ะฝะฐ Render

### Blueprint-ะฟะฐะนะฟะปะฐะนะฝ

1. ะคะพัะบ/ะฟะพะดะบะปััะธัะต ัะตะฟะพะทะธัะพัะธะน ะฒ Render.
2. ะกะพะทะดะฐะนัะต Blueprint (New โ Blueprint) ะธ ัะบะฐะถะธัะต ัััะปะบั ะฝะฐ ัะตะฟะพะทะธัะพัะธะน.
3. Render ัะฐะทะฒะตัะฝัั ะดะฒะฐ ัะตัะฒะธัะฐ:
   - **uno-lite-telegram-bot** โ Node Web Service (install โ build core โ build bot โ `npm run start -w @uno/bot`).
   - **uno-lite-web** โ Static Site (`npm run build -w @uno/web`, ะฟัะฑะปะธะบะฐัะธั `apps/web/dist`).
4. ะะพะฑะฐะฒััะต ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั `BOT_TOKEN` ะดะปั ัะตัะฒะธัะฐ ะฑะพัะฐ (ัะตะบัะธั **Environment**).
5. ะะฐะถะผะธัะต **Apply** โ ะฟะพัะปะต ะฟัะพัะพะถะดะตะฝะธั ัะฑะพัะบะธ ะฑะพั ััะฐะทั ะณะพัะพะฒ ะบ ัะฐะฑะพัะต (ะธัะฟะพะปัะทัะตััั long polling, ะฒะตะฑััะบะธ ะฝะต ะฝัะถะฝั).

### ะะฑะฝะพะฒะปะตะฝะธั

- ะัะฑะพะน push ะฒ ะฒะตัะบั `deploy` (ะธะปะธ ัะบะฐะทะฐะฝะฝัั ะฒ Blueprint) ััะธะณะณะตัะธั ะฟะพะฒัะพัะฝัะน ะดะตะฟะปะพะน ะพะฑะพะธั ัะตัะฒะธัะพะฒ.
- ะะปั ัััะฝะพะณะพ ัะตััะฐััะฐ ะธัะฟะพะปัะทัะนัะต **Manual Deploy โ Deploy latest commit** ะฝะฐ Render.

## โ ะกะพะพัะฒะตัััะฒะธะต ััะตะฑะพะฒะฐะฝะธัะผ

- **ะะฒััะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน UNO Lite** ั ะฟะพะปะฝะพัะตะฝะฝะพะน ะธะณัะพะฒะพะน ะปะพะณะธะบะพะน ะธ ะฟัะพะฒะตัะบะฐะผะธ โ ัะตะฐะปะธะทะพะฒะฐะฝะพ ะฒ `packages/core` (ะฟะพะบัััะพ Vitest-ัะตััะฐะผะธ).
- **ะขะธะฟะพะฑะตะทะพะฟะฐัะฝะพััั ะธ ะพััััััะฒะธะต `any`** โ ัััะพะณะธะน `tsconfig`, ESLint, `noImplicitAny`.
- **Telegram-ะฑะพั ะฝะฐ grammY** ั inline-ะบะฝะพะฟะบะฐะผะธ, ะผะตะฝะตะดะถะตัะพะผ ะบะพะผะฝะฐั ะธ ัะฒะตะดะพะผะปะตะฝะธัะผะธ โ `apps/bot`.
- **Web-ะฟะฐะฝะตะปั (React + Vite + Tailwind + shadcn/ui)** โ `apps/web`.
- **ะะฒัะพัะตััั** โ `npm run test -w @uno/core`, 11 ััะตะฝะฐัะธะตะฒ.
- **ะะตะฟะปะพะน ะฝะฐ Render** โ `render.yaml`, ะธะฝััััะบัะธะธ ะธ ะฟัะพะฒะตัะตะฝะฝัะน ะฟะฐะนะฟะปะฐะนะฝ.
- **ะะธะฒะพะน ะฑะพั** โ [@myuno2222_bot](https://t.me/myuno2222_bot).

## ๐ญ ะะพะทะผะพะถะฝัะต ะดะพัะฐะฑะพัะบะธ

- ะะตััะธััะตะฝัะฝะพััั ะบะพะผะฝะฐั (Redis/PostgreSQL) ะธ ัะตะผะฐะฟ ะฟัะธ ัะตััะฐััะฐั.
- ะะตััะธะบะธ/ะปะพะณะธัะพะฒะฐะฝะธะต ัะตัะตะท OpenTelemetry ะธะปะธ pino.
- ะะฐััะธัะตะฝะธะต ะฟัะฐะฒะธะป (ัะฟะตั-ะบะฐััั, >2 ะธะณัะพะบะพะฒ).
- UI-ะดััะฑะพัะด ะดะปั ะพะฟะตัะฐัะพัะพะฒ (ะฐะบัะธะฒะฝัะต ะบะพะผะฝะฐัั, ะผะตััะธะบะธ ะธะณั).

---

ะะพัะพะฒั ะบ ะฟัะตะดะปะพะถะตะฝะธัะผ ะธ ะฟัะป-ัะตะบะฒะตััะฐะผ โ ะฟัะธััะปะฐะนัะต ะธะดะตะธ ะธะปะธ ะทะฐะผะตัะฐะฝะธั, ะฑัะดะตะผ ัะฐะทะฒะธะฒะฐัั UNO Lite ะฒะผะตััะต.
